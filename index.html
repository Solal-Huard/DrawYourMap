<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ==================== PRIMARY SEO META TAGS ==================== -->
    <title>Srndipity - For Those With Eyes to See | Road Trip Planner & Vanlife Adventures</title>
    <meta name="description" content="Srndipity - For those with eyes to see. Disconnect from screens, connect with the road. Discover 100+ epic road trips, track your vanlife adventures, and learn to see the details in every moment. For travelers who want to be truly present.">
    <meta name="keywords" content="road trip planner, vanlife, travel diary, road trip map, overlanding routes, campervan travel, van life app, road trip ideas, travel tracker, adventure planner, world road trips, scenic drives, camping routes">
    <meta name="author" content="Srndipity">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://srndipity.io/">
    
    <!-- ==================== OPEN GRAPH (Facebook, LinkedIn) ==================== -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Srndipity">
    <meta property="og:title" content="Srndipity - For Those With Eyes to See | Road Trip Planner">
    <meta property="og:description" content="For those with eyes to see. Discover epic road trips worldwide, track your vanlife adventures, and find the hidden gems others miss. 100% free, no signup required.">
    <meta property="og:url" content="https://srndipity.io/">
    <meta property="og:image" content="https://srndipity.io/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Srndipity - Interactive road trip planning tool showing world map with travel routes">
    <meta property="og:locale" content="en_US">
    
    <!-- ==================== TWITTER CARD ==================== -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@Srndipity">
    <meta name="twitter:creator" content="@Srndipity">
    <meta name="twitter:title" content="Srndipity - Road Trip Planner & Vanlife Travel Diary">
    <meta name="twitter:description" content="For those with eyes to see. Discover epic road trips, track your vanlife adventures, find hidden gems others miss. Free for dreamers and wanderers.">
    <meta name="twitter:image" content="https://srndipity.io/twitter-card.jpg">
    <meta name="twitter:image:alt" content="Srndipity road trip planning interface">
    
    <!-- ==================== ADDITIONAL SEO META ==================== -->
    <meta name="theme-color" content="#6366f1">
    <meta name="msapplication-TileColor" content="#6366f1">
    <meta name="apple-mobile-web-app-title" content="Srndipity">
    <meta name="application-name" content="Srndipity">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    
    <!-- ==================== GEO & LANGUAGE ==================== -->
    <meta name="geo.region" content="US">
    <meta name="language" content="English">
    <meta http-equiv="content-language" content="en">
    
    <!-- ==================== STRUCTURED DATA (Schema.org) ==================== -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Srndipity",
        "alternateName": ["Srndipity", "Serendipity Roads", "Srndipity.io", "Srndipity Road Trip Planner"],
        "url": "https://srndipity.io",
        "description": "Interactive road trip planner and travel diary for vanlife enthusiasts, overlanders, and adventure seekers. Discover epic routes, track your journeys, and plan your next adventure.",
        "applicationCategory": "TravelApplication",
        "operatingSystem": "Web Browser",
        "browserRequirements": "Requires JavaScript",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "description": "Free to use with optional premium features"
        },
        "featureList": [
            "Interactive world map with country tracking",
            "100+ curated road trip routes worldwide",
            "Vanlife and overlanding route recommendations",
            "Trip difficulty ratings and duration estimates",
            "Budget planning and cost breakdowns",
            "Community reviews and tips",
            "Printable travel posters",
            "Offline-friendly trip details"
        ],
        "screenshot": "https://srndipity.io/screenshot.jpg",
        "softwareVersion": "2.0",
        "author": {
            "@type": "Organization",
            "name": "Srndipity",
            "url": "https://srndipity.io"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Srndipity",
            "logo": {
                "@type": "ImageObject",
                "url": "https://srndipity.io/logo.png"
            }
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>
    
    <!-- Organization Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Srndipity",
        "url": "https://srndipity.io",
        "logo": "https://srndipity.io/logo.png",
        "description": "For those with eyes to see - The leading platform for road trip planning and vanlife travel tracking",
        "foundingDate": "2024",
        "sameAs": [
            "https://twitter.com/Srndipity",
            "https://instagram.com/srndipity",
            "https://facebook.com/srndipity",
            "https://youtube.com/@srndipity",
            "https://tiktok.com/@srndipity"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "email": "hello@srndipity.io"
        }
    }
    </script>
    
    <!-- FAQ Schema for AI Search & Rich Snippets -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is Srndipity?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Srndipity - For those with eyes to see - is a free interactive road trip planner and travel diary designed for vanlifers, overlanders, and adventure seekers who want to discover the hidden gems others miss. It features 100+ curated road trip routes worldwide, an interactive map to track visited countries, trip planning tools with budget estimates, and a community of fellow travelers sharing tips and reviews."
                }
            },
            {
                "@type": "Question",
                "name": "How do I plan a road trip with Srndipity?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Simply browse our curated road trips by continent or difficulty level, view detailed route information including waypoints, costs, and must-know tips, then add trips to your wishlist or mark them as completed. Each trip includes duration estimates, budget breakdowns, best seasons to visit, and community reviews."
                }
            },
            {
                "@type": "Question",
                "name": "Is Srndipity free to use?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes! Srndipity is completely free to use. All road trip routes, the interactive map, trip planning features, and community content are available at no cost. We offer an optional premium tier ($4.99/year) for ad-free experience and HD poster downloads."
                }
            },
            {
                "@type": "Question",
                "name": "What are the best road trips for vanlife?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Popular vanlife road trips include Route 66 (USA), the Pan-American Highway, Iceland's Ring Road, Australia's Great Ocean Road, Scotland's North Coast 500, Portugal's Atlantic Coast, and Namibia's Skeleton Coast. Each offers unique camping opportunities, scenic views, and vanlife-friendly infrastructure."
                }
            },
            {
                "@type": "Question",
                "name": "Can I track my travel history on Srndipity?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes! The Travel Diary feature lets you mark countries as visited (turning them green on the map), track completed road trips, log your personal journeys with dates, and see statistics like total countries visited and continents explored. Your data is saved locally in your browser."
                }
            },
            {
                "@type": "Question",
                "name": "What overlanding routes does Srndipity feature?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Srndipity features iconic overlanding routes including the Trans-Sahara Highway, Cape Town to Cairo, Carretera Austral (Chile), Silk Road through Central Asia, Mongolia's Gobi Desert crossing, and many more. Each route includes 4x4 requirements, difficulty ratings, and essential preparation tips."
                }
            }
        ]
    }
    </script>
    
    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://srndipity.io"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Road Trips",
                "item": "https://srndipity.io/#serendipity"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Travel Diary",
                "item": "https://srndipity.io/#diary"
            }
        ]
    }
    </script>
    
    <!-- ItemList Schema for Road Trips (helps with rich snippets) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "name": "Popular Road Trips for Vanlife Adventures",
        "description": "Curated collection of the world's best road trips for vanlifers and overlanders",
        "numberOfItems": 25,
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "item": {
                    "@type": "TouristTrip",
                    "name": "Route 66 - The Mother Road",
                    "description": "The iconic American road trip from Chicago to Santa Monica",
                    "touristType": "Road Trip Enthusiast"
                }
            },
            {
                "@type": "ListItem",
                "position": 2,
                "item": {
                    "@type": "TouristTrip",
                    "name": "Iceland Ring Road",
                    "description": "Complete circumnavigation of Iceland's stunning landscapes",
                    "touristType": "Vanlife Adventurer"
                }
            },
            {
                "@type": "ListItem",
                "position": 3,
                "item": {
                    "@type": "TouristTrip",
                    "name": "Great Ocean Road",
                    "description": "Australia's most scenic coastal drive",
                    "touristType": "Scenic Drive Lover"
                }
            },
            {
                "@type": "ListItem",
                "position": 4,
                "item": {
                    "@type": "TouristTrip",
                    "name": "North Coast 500",
                    "description": "Scotland's answer to Route 66",
                    "touristType": "Adventure Traveler"
                }
            },
            {
                "@type": "ListItem",
                "position": 5,
                "item": {
                    "@type": "TouristTrip",
                    "name": "Pan-American Highway",
                    "description": "Epic journey from Alaska to Argentina",
                    "touristType": "Overlander"
                }
            }
        ]
    }
    </script>
    
    <!-- ==================== FONTS & STYLES ==================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Leaflet CSS for road maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Core Dark Theme */
            --bg-dark: #0d0d12;
            --bg-panel: #151520;
            --bg-elevated: #1c1c2a;
            --bg-hover: #252538;
            
            /* Primary Accent - Warm amber/orange */
            --accent-primary: #e07a39;
            --accent-secondary: #f59e0b;
            --accent-glow: rgba(224, 122, 57, 0.4);
            
            /* Text */
            --text-primary: #f1f1f4;
            --text-secondary: #9494a8;
            --text-muted: #5e5e72;
            
            /* Borders */
            --border-subtle: rgba(255, 255, 255, 0.08);
            --border-accent: rgba(224, 122, 57, 0.5);
            
            /* Status Colors */
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --serendipity: #f472b6;
            --road-primary: #fbbf24;
            
            /* Vintage Road Trip Theme */
            --vintage-cream: #f5f0e6;
            --vintage-paper: #ebe5d9;
            --vintage-tan: #d4c4a8;
            --vintage-brown: #8b7355;
            --vintage-dark: #4a3f35;
            --vintage-red: #c44536;
            --vintage-orange: #e07a39;
            --vintage-gold: #d4a03d;
            --vintage-teal: #4a7c7c;
            --vintage-navy: #2c3e50;
        }

        body {
            font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            overflow: hidden;
            min-height: 100vh;
        }

        /* =====================================================
           VINTAGE ROAD TRIP THEME - Serendipity Mode
           ===================================================== */
        
        body.vintage-mode {
            background: var(--vintage-cream);
        }

        body.vintage-mode .sidebar {
            background: var(--vintage-paper);
            border-right: 2px solid var(--vintage-tan);
            box-shadow: 4px 0 20px rgba(74, 63, 53, 0.15);
        }

        body.vintage-mode .sidebar-header {
            background: linear-gradient(135deg, var(--vintage-dark), var(--vintage-brown));
            border-bottom: 3px solid var(--vintage-gold);
            padding: 20px;
        }

        body.vintage-mode .logo {
            color: var(--vintage-cream);
            font-family: 'Georgia', 'Times New Roman', serif;
            letter-spacing: 1px;
        }

        body.vintage-mode .mode-switcher {
            background: var(--vintage-cream);
            border: 2px solid var(--vintage-tan);
            padding: 4px;
        }

        body.vintage-mode .mode-btn {
            color: var(--vintage-brown);
            font-weight: 600;
        }

        body.vintage-mode .mode-btn.active {
            background: var(--vintage-red);
            color: var(--vintage-cream);
            border-radius: 6px;
        }

        body.vintage-mode .sidebar-content {
            background: var(--vintage-paper);
        }

        body.vintage-mode .section-title {
            color: var(--vintage-dark);
            font-family: 'Georgia', serif;
            font-size: 0.95rem;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--vintage-tan);
            padding-bottom: 8px;
            margin-bottom: 12px;
        }

        body.vintage-mode .road-trip-card {
            background: var(--vintage-cream);
            border: 1px solid var(--vintage-tan);
            border-left: 4px solid var(--vintage-red);
            box-shadow: 2px 2px 8px rgba(74, 63, 53, 0.1);
            transition: all 0.3s ease;
        }

        body.vintage-mode .road-trip-card:hover {
            transform: translateY(-2px);
            box-shadow: 4px 4px 16px rgba(74, 63, 53, 0.2);
            border-left-color: var(--vintage-orange);
        }

        body.vintage-mode .road-trip-card.active {
            border-left-color: var(--vintage-gold);
            background: linear-gradient(135deg, var(--vintage-cream), rgba(212, 160, 61, 0.1));
        }

        body.vintage-mode .road-trip-card.personal {
            border-left-color: var(--vintage-teal);
        }

        body.vintage-mode .road-trip-card.completed {
            border-left-color: var(--vintage-teal);
            background: linear-gradient(135deg, var(--vintage-cream), rgba(74, 124, 124, 0.1));
        }

        body.vintage-mode .road-trip-name {
            color: var(--vintage-dark);
            font-family: 'Georgia', serif;
            font-weight: 600;
        }

        body.vintage-mode .road-trip-meta {
            color: var(--vintage-brown);
        }

        body.vintage-mode .road-trip-icon {
            font-size: 1.4rem;
        }

        body.vintage-mode .road-tag {
            background: var(--vintage-paper);
            border: 1px solid var(--vintage-tan);
            color: var(--vintage-brown);
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        body.vintage-mode .road-tag.scenic { border-left: 3px solid var(--vintage-teal); }
        body.vintage-mode .road-tag.adventure { border-left: 3px solid var(--vintage-red); }
        body.vintage-mode .road-tag.historic { border-left: 3px solid var(--vintage-gold); }
        body.vintage-mode .road-tag.camping { border-left: 3px solid var(--vintage-orange); }

        body.vintage-mode .difficulty-badge {
            font-family: 'Georgia', serif;
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        body.vintage-mode .difficulty-badge.easy { 
            background: rgba(74, 124, 124, 0.2);
            color: var(--vintage-teal);
        }
        body.vintage-mode .difficulty-badge.moderate { 
            background: rgba(212, 160, 61, 0.2);
            color: var(--vintage-gold);
        }
        body.vintage-mode .difficulty-badge.challenging { 
            background: rgba(224, 122, 57, 0.2);
            color: var(--vintage-orange);
        }
        body.vintage-mode .difficulty-badge.extreme { 
            background: rgba(196, 69, 54, 0.2);
            color: var(--vintage-red);
        }

        body.vintage-mode .btn-serendipity {
            background: var(--vintage-red);
            border: none;
            font-family: 'Georgia', serif;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        body.vintage-mode .btn-serendipity:hover {
            background: var(--vintage-orange);
        }

        body.vintage-mode .btn-secondary {
            background: var(--vintage-cream);
            border: 2px solid var(--vintage-tan);
            color: var(--vintage-brown);
        }

        body.vintage-mode .btn-secondary:hover {
            background: var(--vintage-tan);
            color: var(--vintage-dark);
        }

        body.vintage-mode .section {
            background: transparent;
            border-bottom: 1px dashed var(--vintage-tan);
            padding-bottom: 16px;
            margin-bottom: 16px;
        }

        body.vintage-mode .league-section {
            background: linear-gradient(135deg, rgba(212, 160, 61, 0.1), rgba(196, 69, 54, 0.1));
            border: 2px solid var(--vintage-tan);
            border-radius: 8px;
            padding: 16px;
        }

        body.vintage-mode .league-stat-card {
            background: var(--vintage-cream);
            border: 1px solid var(--vintage-tan);
        }

        body.vintage-mode .league-stat-value {
            color: var(--vintage-red);
            font-family: 'Georgia', serif;
        }

        body.vintage-mode .league-badge {
            background: linear-gradient(135deg, var(--vintage-gold), var(--vintage-orange));
            border: none;
        }

        body.vintage-mode .view-details-btn {
            background: var(--vintage-dark);
            color: var(--vintage-cream);
            font-family: 'Georgia', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.7rem;
        }

        body.vintage-mode .complete-btn {
            background: var(--vintage-teal);
            color: var(--vintage-cream);
        }

        body.vintage-mode .add-alert-btn {
            background: var(--vintage-cream);
            border: 2px dashed var(--vintage-tan);
            color: var(--vintage-brown);
        }

        body.vintage-mode .add-alert-btn:hover {
            border-color: var(--vintage-red);
            color: var(--vintage-red);
        }

        body.vintage-mode .alert-card {
            background: var(--vintage-cream);
            border: 1px solid var(--vintage-tan);
            border-left: 3px solid var(--vintage-orange);
        }

        body.vintage-mode .community-alerts .section-title::after {
            content: ' üõ£Ô∏è';
        }

        /* Vintage decorative elements */
        body.vintage-mode .sidebar::before {
            content: '';
            position: absolute;
            top: 80px;
            left: 20px;
            right: 20px;
            height: 40px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 20"><text x="0" y="15" font-family="Georgia" font-size="10" fill="%238b7355" opacity="0.3">‚îÅ ROAD TRIP ‚îÅ ADVENTURE ‚îÅ EXPLORE ‚îÅ</text></svg>') repeat-x;
            opacity: 0.5;
            pointer-events: none;
        }

        body.vintage-mode .road-trip-card::before {
            content: '‚óâ';
            position: absolute;
            left: -12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--vintage-red);
            font-size: 0.8rem;
        }

        body.vintage-mode .dblclick-hint {
            color: var(--vintage-brown);
            font-style: italic;
            font-family: 'Georgia', serif;
        }

        /* Vintage scroll styling */
        body.vintage-mode .sidebar-content::-webkit-scrollbar {
            width: 8px;
        }

        body.vintage-mode .sidebar-content::-webkit-scrollbar-track {
            background: var(--vintage-paper);
        }

        body.vintage-mode .sidebar-content::-webkit-scrollbar-thumb {
            background: var(--vintage-tan);
            border-radius: 4px;
        }

        body.vintage-mode .road-trip-rating {
            color: var(--vintage-gold);
        }

        body.vintage-mode .personal-badge {
            background: var(--vintage-teal);
        }

        body.vintage-mode .user-created-badge {
            background: var(--vintage-orange);
        }

        /* Vintage Banner */
        .vintage-banner {
            display: none;
        }

        body.vintage-mode .vintage-banner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--vintage-dark) 0%, var(--vintage-brown) 100%);
            border-bottom: 4px solid var(--vintage-gold);
            margin: -16px -16px 20px -16px;
            position: relative;
        }

        body.vintage-mode .vintage-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="%23d4a03d" stroke-width="0.5" opacity="0.1"/></svg>') repeat;
            opacity: 0.3;
            pointer-events: none;
        }

        .vintage-banner-content {
            position: relative;
        }

        .vintage-title {
            font-family: 'Georgia', serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--vintage-cream);
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        .vintage-subtitle {
            font-family: 'Georgia', serif;
            font-size: 0.8rem;
            color: var(--vintage-gold);
            font-style: italic;
            margin-top: 4px;
        }

        .vintage-stats {
            display: flex;
            gap: 20px;
            position: relative;
        }

        .vintage-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 16px;
            background: rgba(245, 240, 230, 0.1);
            border: 1px solid var(--vintage-gold);
            border-radius: 4px;
        }

        .vintage-stat-value {
            font-family: 'Georgia', serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--vintage-cream);
        }

        .vintage-stat-label {
            font-size: 0.65rem;
            color: var(--vintage-gold);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Vintage Tips */
        .vintage-tips {
            display: none;
        }

        body.vintage-mode .vintage-tips {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        body.vintage-mode .reddit-tips {
            display: none;
        }

        body.vintage-mode .travel-stats {
            display: none;
        }

        .vintage-tip {
            display: flex;
            gap: 12px;
            padding: 14px;
            background: var(--vintage-cream);
            border: 1px solid var(--vintage-tan);
            border-left: 4px solid var(--vintage-gold);
            border-radius: 4px;
        }

        .vintage-tip .tip-icon {
            font-size: 1.2rem;
        }

        .vintage-tip .tip-content {
            flex: 1;
        }

        .vintage-tip .tip-text {
            font-family: 'Georgia', serif;
            font-size: 0.85rem;
            color: var(--vintage-dark);
            font-style: italic;
            line-height: 1.5;
        }

        .vintage-tip .tip-source {
            font-size: 0.7rem;
            color: var(--vintage-brown);
            margin-top: 6px;
        }

        /* Map styling for vintage mode */
        body.vintage-mode .map-container {
            border-left: 3px solid var(--vintage-tan);
        }

        body.vintage-mode #roadMap {
            filter: sepia(15%) saturate(90%);
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background: var(--bg-panel);
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: transform 0.3s;
        }

        .sidebar-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'Libre Baskerville', Georgia, serif;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .logo-icon.serendipity-mode {
            background: linear-gradient(135deg, var(--serendipity), var(--accent-secondary));
        }
        
        /* Brand tagline under logo */
        .logo-tagline {
            font-size: 0.6rem;
            color: var(--text-muted);
            font-style: italic;
            letter-spacing: 0.5px;
            margin-top: 2px;
        }

        /* Mode Tabs */
        .mode-tabs {
            display: flex;
            padding: 12px;
            gap: 8px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .mode-tab {
            flex: 1;
            padding: 10px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-secondary);
            font-family: inherit;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .mode-tab:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .mode-tab.active {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        .mode-tab.serendipity.active {
            background: linear-gradient(135deg, var(--serendipity), var(--road-primary));
            border-color: var(--serendipity);
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .sidebar-content::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-content::-webkit-scrollbar-thumb {
            background: var(--bg-hover);
            border-radius: 3px;
        }

        /* Section */
        .section {
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 10px;
            padding-left: 4px;
        }

        /* Stats */
        .travel-stats {
            background: linear-gradient(135deg, var(--bg-elevated), var(--bg-hover));
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 16px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .stat-box {
            text-align: center;
        }

        .stat-box .stat-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--accent-primary);
        }

        .stat-box .stat-label {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        /* Buttons */
        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 20px var(--accent-glow);
        }

        .btn-secondary {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--bg-hover);
            border-color: var(--border-accent);
        }

        .btn-serendipity {
            background: linear-gradient(135deg, var(--serendipity), var(--road-primary));
            color: white;
            font-weight: 600;
        }

        .btn-serendipity:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 20px rgba(244, 114, 182, 0.4);
        }

        .btn-group {
            display: flex;
            gap: 8px;
        }

        .btn-group .btn {
            flex: 1;
        }

        /* Selected Display */
        .selected-display {
            background: linear-gradient(135deg, var(--bg-elevated), var(--bg-hover));
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 16px;
        }

        .selected-display.has-selection {
            border-color: var(--border-accent);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .selected-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .selected-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Search */
        .search-select {
            width: 100%;
            padding: 10px 12px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.85rem;
            cursor: pointer;
        }

        .search-select:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        /* Map Container */
        .map-container {
            flex: 1;
            position: relative;
            background: var(--bg-dark);
            overflow: hidden;
        }

        #worldMap {
            width: 100%;
            height: 100%;
            cursor: grab;
        }

        #worldMap:active {
            cursor: grabbing;
        }

        #worldMap path {
            stroke: rgba(255, 255, 255, 0.2);
            stroke-width: 0.5;
            transition: filter 0.15s, stroke 0.15s;
        }

        #worldMap path:hover {
            stroke: var(--accent-primary);
            stroke-width: 1;
            filter: brightness(1.3);
            cursor: pointer;
        }

        #worldMap path.selected {
            stroke: var(--accent-secondary);
            stroke-width: 2;
            filter: drop-shadow(0 0 8px var(--accent-glow));
        }

        /* Leaflet Road Map */
        #roadMap {
            width: 100%;
            height: 100%;
            display: none;
            background: #1a1a2e;
        }

        #roadMap.active {
            display: block;
        }

        .leaflet-container {
            background: #1a1a2e;
            font-family: 'DM Sans', sans-serif;
        }

        /* Leaflet control styling */
        .leaflet-control-layers {
            background: var(--bg-panel) !important;
            border: 1px solid var(--border-subtle) !important;
            border-radius: 10px !important;
            color: var(--text-primary) !important;
        }

        .leaflet-control-layers-expanded {
            padding: 10px 14px !important;
        }

        .leaflet-control-layers label {
            color: var(--text-primary) !important;
            font-size: 0.85rem;
        }

        .leaflet-popup-content-wrapper {
            background: var(--bg-panel) !important;
            border-radius: 12px !important;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5) !important;
        }

        .leaflet-popup-content {
            color: var(--text-primary) !important;
            margin: 12px 14px !important;
        }

        .leaflet-popup-tip {
            background: var(--bg-panel) !important;
        }

        .leaflet-control-attribution {
            background: rgba(21, 21, 32, 0.8) !important;
            color: var(--text-muted) !important;
            font-size: 0.65rem !important;
        }

        .leaflet-control-attribution a {
            color: var(--accent-secondary) !important;
        }

        /* Route Tooltip */
        .route-tooltip {
            background: var(--bg-panel) !important;
            border: 1px solid var(--border-subtle) !important;
            border-radius: 10px !important;
            padding: 8px 12px !important;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4) !important;
            font-family: inherit !important;
            color: var(--text-primary) !important;
        }

        .route-tooltip::before {
            border-top-color: var(--bg-panel) !important;
        }

        .leaflet-tooltip-left.route-tooltip::before {
            border-left-color: var(--bg-panel) !important;
        }

        .leaflet-tooltip-right.route-tooltip::before {
            border-right-color: var(--bg-panel) !important;
        }

        /* Zoom Controls */
        .zoom-controls {
            position: absolute;
            bottom: 24px;
            right: 24px;
            display: flex;
            flex-direction: column;
            gap: 4px;
            z-index: 50;
        }

        .zoom-btn {
            width: 40px;
            height: 40px;
            background: var(--bg-panel);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .zoom-btn:hover {
            background: var(--bg-elevated);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        /* ==================== SERENDIPITY PANEL ==================== */
        .serendipity-content {
            display: none;
        }

        .serendipity-content.active {
            display: block;
        }

        .road-trip-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .road-trip-card:hover {
            border-color: var(--serendipity);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(244, 114, 182, 0.2);
        }

        .road-trip-card.active {
            border-color: var(--serendipity);
            background: rgba(244, 114, 182, 0.1);
        }

        .road-trip-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .road-trip-icon {
            font-size: 1.5rem;
        }

        .road-trip-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .road-trip-meta {
            display: flex;
            gap: 12px;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .road-trip-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .road-trip-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 10px;
        }

        .road-tag {
            padding: 4px 10px;
            background: var(--bg-dark);
            border-radius: 12px;
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        .road-tag.toll-free { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
        .road-tag.scenic { background: rgba(99, 102, 241, 0.2); color: #818cf8; }
        .road-tag.adventure { background: rgba(249, 115, 22, 0.2); color: #f97316; }
        .road-tag.camping { background: rgba(20, 184, 166, 0.2); color: #14b8a6; }
        .road-tag.fourx4 { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
        .road-tag.wildlife { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }
        .road-tag.historic { background: rgba(168, 85, 247, 0.2); color: #a855f7; }
        .road-tag.epic { background: rgba(236, 72, 153, 0.2); color: #ec4899; }
        .road-tag.community { background: rgba(244, 114, 182, 0.2); color: #f472b6; }

        /* Enhanced Road Trip Card */
        .road-trip-card {
            position: relative;
            transition: all 0.3s ease;
        }

        .road-trip-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .road-trip-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            color: #fbbf24;
            margin-top: 6px;
        }

        .road-trip-rating .rating-value {
            color: var(--text-primary);
            font-weight: 600;
        }

        .difficulty-badge {
            display: inline-flex;
            align-items: center;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 500;
            margin-left: 8px;
        }

        .difficulty-badge.easy { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
        .difficulty-badge.moderate { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
        .difficulty-badge.challenging { background: rgba(249, 115, 22, 0.2); color: #f97316; }
        .difficulty-badge.extreme { background: rgba(239, 68, 68, 0.2); color: #ef4444; }

        .view-details-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            padding: 6px 12px;
            font-size: 0.7rem;
            background: var(--accent-primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
        }

        .road-trip-card:hover .view-details-btn {
            opacity: 1;
        }

        /* Trip Fullscreen Modal - New Design */
        .trip-fullscreen-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: var(--bg-dark);
            z-index: 10000;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .trip-fullscreen-modal.active {
            display: flex;
        }

        /* Hero Header */
        .trip-hero {
            position: relative;
            min-height: 280px;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%);
            display: flex;
            align-items: flex-end;
            padding: 40px 60px;
            overflow: hidden;
        }

        .trip-hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.5;
        }

        .trip-close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            z-index: 10;
        }

        .trip-close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .trip-hero-content {
            position: relative;
            z-index: 5;
        }

        .trip-hero-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 16px;
        }

        .hero-icon {
            font-size: 3rem;
        }

        .trip-hero-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: white;
            margin: 0 0 12px 0;
            text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
        }

        .trip-hero-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 12px;
        }

        .hero-meta-divider {
            opacity: 0.4;
        }

        .trip-hero-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }

        .hero-stars {
            font-size: 1.1rem;
        }

        .hero-rating-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #fbbf24;
        }

        .hero-reviews-count {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .trip-hero-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .trip-hero-tags .tag {
            padding: 6px 14px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            color: white;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Navigation Tabs */
        .trip-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 60px;
            background: var(--bg-elevated);
            border-bottom: 1px solid var(--border-subtle);
        }

        .trip-nav-tabs {
            display: flex;
            gap: 0;
        }

        .trip-nav-tab {
            padding: 18px 28px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .trip-nav-tab:hover {
            color: var(--text-primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .trip-nav-tab.active {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        .trip-nav-actions {
            display: flex;
            gap: 10px;
        }

        .trip-action-btn {
            width: 42px;
            height: 42px;
            border-radius: 12px;
            background: var(--bg-dark);
            border: 1px solid var(--border-subtle);
            color: var(--text-secondary);
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .trip-action-btn:hover {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        /* Tab Content */
        .trip-content-container {
            flex: 1;
            overflow-y: auto;
            padding: 32px 60px;
        }

        .trip-tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .trip-tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Grid Layouts */
        .trip-grid {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 32px;
        }

        .trip-main-col, .trip-side-col {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Stats Row */
        .trip-stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .trip-stat-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
        }

        .trip-stat-card .stat-icon {
            font-size: 2rem;
        }

        .trip-stat-card .stat-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .trip-stat-card .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        /* Trip Cards */
        .trip-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 24px;
        }

        .trip-card h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0 0 16px 0;
            color: var(--text-primary);
        }

        .trip-card.warning-card {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(249, 115, 22, 0.1));
            border-color: rgba(251, 191, 36, 0.3);
        }

        .trip-card.recommendations-card {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(20, 184, 166, 0.1));
            border-color: rgba(34, 197, 94, 0.3);
        }

        .trip-description {
            font-size: 1rem;
            line-height: 1.7;
            color: var(--text-secondary);
        }

        /* Highlights */
        .trip-highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .trip-highlights .highlight-tag {
            padding: 10px 18px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 25px;
            color: var(--text-primary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Must Know */
        .must-know-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .must-know-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(251, 191, 36, 0.2);
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        .must-know-list li:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        /* Recommendations */
        .recommendations-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .recommendation-item {
            display: flex;
            gap: 14px;
            padding: 14px;
            background: var(--bg-dark);
            border-radius: 12px;
        }

        .recommendation-item .rec-icon {
            font-size: 1.5rem;
        }

        .recommendation-item .rec-title {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .recommendation-item .rec-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Packing List */
        .packing-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .packing-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            background: var(--bg-dark);
            border-radius: 10px;
            font-size: 0.85rem;
        }

        .packing-item.essential {
            border-left: 3px solid var(--warning);
        }

        /* Route Tab */
        .route-card {
            max-width: 800px;
        }

        .route-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .route-header h3 {
            margin: 0;
        }

        .stops-count {
            padding: 6px 14px;
            background: var(--accent-primary);
            color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .route-timeline {
            position: relative;
            padding-left: 40px;
        }

        .route-timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--accent-primary), var(--serendipity));
            border-radius: 2px;
        }

        .waypoint-item {
            position: relative;
            padding: 20px;
            margin-bottom: 16px;
            background: var(--bg-dark);
            border-radius: 12px;
        }

        .waypoint-item::before {
            content: '';
            position: absolute;
            left: -32px;
            top: 24px;
            width: 16px;
            height: 16px;
            background: var(--accent-primary);
            border: 3px solid var(--bg-elevated);
            border-radius: 50%;
        }

        .waypoint-name {
            font-weight: 600;
            font-size: 1rem;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .waypoint-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Budget Tab */
        .budget-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            max-width: 1000px;
        }

        .budget-breakdown, .budget-tips {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 28px;
        }

        .budget-breakdown h3, .budget-tips h3 {
            margin: 0 0 24px 0;
            font-size: 1.2rem;
        }

        .budget-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .budget-item {
            display: grid;
            grid-template-columns: 50px 1fr 120px;
            align-items: center;
            gap: 16px;
        }

        .budget-item-icon {
            font-size: 1.8rem;
        }

        .budget-item-label {
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        .budget-item-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--success);
            text-align: right;
        }

        .budget-item-bar {
            grid-column: 1 / -1;
            height: 6px;
            background: var(--bg-dark);
            border-radius: 3px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            border-radius: 3px;
        }

        .bar-fill.fuel { width: 25%; background: #f97316; }
        .bar-fill.tolls { width: 5%; background: #8b5cf6; }
        .bar-fill.accommodation { width: 45%; background: #3b82f6; }
        .bar-fill.food { width: 25%; background: #22c55e; }

        .budget-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            margin-top: 24px;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(20, 184, 166, 0.2));
            border-radius: 12px;
            font-weight: 600;
        }

        .budget-total-value {
            font-size: 1.5rem;
            color: var(--success);
        }

        .budget-tips-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .budget-tip {
            padding: 14px 16px;
            background: var(--bg-dark);
            border-radius: 10px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Planning Tab */
        .planning-steps-container {
            max-width: 800px;
        }

        .planning-steps-container h3 {
            margin-bottom: 24px;
        }

        .planning-timeline {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .planning-step {
            display: flex;
            gap: 20px;
            padding: 24px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
        }

        .step-number {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent-primary), var(--serendipity));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .step-desc {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Community Tab */
        .community-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
        }

        .community-reviews, .community-chat {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 24px;
        }

        .reviews-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .reviews-header h3 {
            margin: 0;
        }

        .reviews-summary {
            text-align: center;
        }

        .big-rating {
            font-size: 2.5rem;
            font-weight: 800;
            color: #fbbf24;
        }

        .reviews-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .review-item {
            padding: 16px;
            background: var(--bg-dark);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .review-user {
            font-weight: 600;
            color: var(--accent-primary);
        }

        .review-rating {
            color: #fbbf24;
        }

        .review-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .review-date {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .add-review-box {
            padding: 20px;
            background: var(--bg-dark);
            border-radius: 12px;
        }

        .add-review-box h4 {
            margin: 0 0 12px 0;
            font-size: 0.95rem;
        }

        .rating-input {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .rating-star {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            transition: all 0.2s;
        }

        .rating-star:hover, .rating-star.active {
            color: #fbbf24;
        }

        .review-textarea {
            width: 100%;
            padding: 12px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.9rem;
            resize: none;
            height: 80px;
            margin-bottom: 12px;
        }

        .review-textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .submit-review-btn {
            width: 100%;
            padding: 12px;
            background: var(--accent-primary);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .submit-review-btn:hover {
            background: var(--accent-secondary);
        }

        /* Chat in Community */
        .chat-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .chat-header h3 {
            margin: 0;
        }

        .online-badge {
            padding: 6px 12px;
            background: rgba(34, 197, 94, 0.2);
            color: var(--success);
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .chat-messages {
            flex: 1;
            max-height: 280px;
            overflow-y: auto;
            padding: 12px;
            background: var(--bg-dark);
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .chat-message {
            padding: 12px 14px;
            margin-bottom: 10px;
            background: var(--bg-elevated);
            border-radius: 12px;
            border-left: 3px solid var(--border-subtle);
        }

        .chat-message.question { border-left-color: var(--accent-primary); }
        .chat-message.tip { border-left-color: var(--success); }
        .chat-message.experience { border-left-color: var(--warning); }

        .chat-msg-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
        }

        .chat-msg-user {
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--accent-primary);
        }

        .chat-msg-badge {
            font-size: 0.65rem;
            padding: 2px 8px;
            border-radius: 10px;
            background: var(--bg-dark);
        }

        .chat-msg-badge.verified { background: var(--success); color: white; }
        .chat-msg-badge.expert { background: var(--warning); color: var(--bg-dark); }

        .chat-msg-text {
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .chat-msg-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .chat-msg-reactions {
            display: flex;
            gap: 8px;
        }

        .chat-reaction {
            cursor: pointer;
            padding: 2px 8px;
            background: var(--bg-dark);
            border-radius: 10px;
            transition: all 0.2s;
        }

        .chat-reaction:hover {
            background: rgba(99, 102, 241, 0.3);
        }

        .chat-replies {
            margin-top: 10px;
            padding-left: 12px;
            border-left: 2px solid var(--border-subtle);
        }

        .chat-reply {
            padding: 8px 12px;
            margin-top: 8px;
            background: var(--bg-dark);
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .chat-input-section {
            background: var(--bg-dark);
            border-radius: 12px;
            padding: 12px;
        }

        .chat-type-pills {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .chat-pill {
            flex: 1;
            padding: 8px 12px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 20px;
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chat-pill:hover {
            border-color: var(--accent-primary);
        }

        .chat-pill.active {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        .chat-input-row {
            display: flex;
            gap: 10px;
        }

        .chat-text-input {
            flex: 1;
            padding: 12px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 25px;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .chat-text-input:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .chat-submit-btn {
            padding: 12px 24px;
            background: var(--accent-primary);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chat-submit-btn:hover {
            background: var(--accent-secondary);
        }

        .highlight-tag {
            padding: 8px 14px;
            background: linear-gradient(135deg, var(--accent-primary), var(--serendipity));
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .waypoints-timeline {
            position: relative;
            padding-left: 30px;
        }

        .waypoints-timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--accent-primary), var(--serendipity));
        }

        .waypoint-item {
            position: relative;
            padding: 12px 0;
            padding-left: 20px;
        }

        .waypoint-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: var(--accent-primary);
            border-radius: 50%;
            border: 2px solid var(--bg-panel);
        }

        .waypoint-item:first-child::before { background: #22c55e; }
        .waypoint-item:last-child::before { background: #ef4444; }

        .waypoint-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .waypoint-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 2px;
        }

        /* Reviews */
        .reviews-section {
            flex: 1;
            margin-bottom: 16px;
        }

        .reviews-section h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .reviews-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .review-item {
            padding: 14px;
            background: var(--bg-dark);
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .review-item.owner-review {
            border-left: 3px solid var(--success);
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), transparent);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .review-user {
            font-weight: 600;
            font-size: 0.85rem;
        }

        .review-rating {
            color: #fbbf24;
            font-size: 0.8rem;
        }

        .review-text {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .review-date {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .add-review-section {
            background: var(--bg-dark);
            border-radius: 10px;
            padding: 14px;
            margin-top: 16px;
        }

        .add-review-section h5 {
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .rating-input {
            display: flex;
            gap: 4px;
            margin-bottom: 10px;
        }

        .rating-star {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            transition: color 0.2s;
        }

        .rating-star:hover,
        .rating-star.active {
            color: #fbbf24;
        }

        .trip-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .btn-success {
            background: var(--success);
            color: white;
            border: none;
        }

        .btn-success:hover {
            background: #16a34a;
        }

        /* Cost Section */
        .cost-section {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(20, 184, 166, 0.1));
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 12px;
            padding: 16px;
        }

        .cost-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .cost-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: var(--bg-dark);
            border-radius: 10px;
        }

        .cost-icon {
            font-size: 1.5rem;
        }

        .cost-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .cost-value {
            font-size: 1rem;
            font-weight: 700;
            color: var(--success);
        }

        .cost-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: var(--bg-dark);
            border-radius: 10px;
            font-weight: 600;
        }

        .total-value {
            font-size: 1.2rem;
            color: var(--success);
        }

        /* Planning Section */
        .planning-section {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            padding: 16px;
        }

        .planning-steps {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .planning-step {
            display: flex;
            gap: 14px;
            padding: 14px;
            background: var(--bg-dark);
            border-radius: 10px;
        }

        .step-number {
            width: 32px;
            height: 32px;
            background: var(--accent-primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .step-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Recommendations Section */
        .recommendations-section {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(249, 115, 22, 0.1));
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 12px;
            padding: 16px;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .recommendation-card {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px;
            background: var(--bg-dark);
            border-radius: 10px;
        }

        .recommendation-icon {
            font-size: 1.3rem;
        }

        .recommendation-content {
            flex: 1;
        }

        .recommendation-title {
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 2px;
        }

        .recommendation-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Packing Section */
        .packing-section {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px;
        }

        .packing-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .packing-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background: var(--bg-dark);
            border-radius: 8px;
            font-size: 0.8rem;
        }

        .packing-item.essential {
            border-left: 3px solid var(--warning);
        }

        /* Double-click hint */
        .dblclick-hint {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-align: center;
            margin-top: 8px;
            font-style: italic;
        }

        /* Trip Chat Section */
        .trip-chat-section {
            background: var(--bg-dark);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-top: 16px;
            overflow: hidden;
        }

        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
            border-bottom: 1px solid var(--border-subtle);
        }

        .chat-header h4 {
            margin: 0;
            font-size: 0.9rem;
        }

        .online-count {
            font-size: 0.75rem;
            color: var(--success);
        }

        .chat-messages {
            height: 280px;
            overflow-y: auto;
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chat-message {
            padding: 10px 12px;
            border-radius: 12px;
            background: var(--bg-elevated);
            max-width: 90%;
        }

        .chat-message.question {
            border-left: 3px solid var(--accent-primary);
        }

        .chat-message.tip {
            border-left: 3px solid var(--success);
            background: rgba(34, 197, 94, 0.1);
        }

        .chat-message.experience {
            border-left: 3px solid var(--warning);
            background: rgba(251, 191, 36, 0.1);
        }

        .chat-message.own {
            margin-left: auto;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
        }

        .chat-msg-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .chat-msg-user {
            font-weight: 600;
            font-size: 0.8rem;
            color: var(--accent-primary);
        }

        .chat-msg-badge {
            font-size: 0.65rem;
            padding: 2px 6px;
            border-radius: 8px;
            background: var(--bg-dark);
        }

        .chat-msg-badge.verified {
            background: var(--success);
            color: white;
        }

        .chat-msg-badge.expert {
            background: var(--warning);
            color: var(--bg-dark);
        }

        .chat-msg-text {
            font-size: 0.85rem;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .chat-msg-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .chat-msg-reactions {
            display: flex;
            gap: 8px;
        }

        .chat-reaction {
            cursor: pointer;
            padding: 2px 6px;
            border-radius: 10px;
            background: var(--bg-dark);
            transition: all 0.2s;
        }

        .chat-reaction:hover {
            background: var(--bg-elevated);
            transform: scale(1.1);
        }

        .chat-reaction.active {
            background: rgba(99, 102, 241, 0.3);
        }

        .chat-reply-btn {
            cursor: pointer;
            color: var(--accent-primary);
        }

        .chat-reply-btn:hover {
            text-decoration: underline;
        }

        .chat-replies {
            margin-top: 10px;
            padding-left: 12px;
            border-left: 2px solid var(--border-subtle);
        }

        .chat-reply {
            padding: 6px 10px;
            margin-top: 6px;
            background: var(--bg-dark);
            border-radius: 8px;
            font-size: 0.8rem;
        }

        .chat-input-area {
            padding: 12px;
            border-top: 1px solid var(--border-subtle);
            background: var(--bg-elevated);
        }

        .chat-type-selector {
            display: flex;
            gap: 6px;
            margin-bottom: 10px;
        }

        .chat-type-btn {
            flex: 1;
            padding: 6px 10px;
            border: 1px solid var(--border-subtle);
            background: var(--bg-dark);
            color: var(--text-secondary);
            border-radius: 8px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chat-type-btn:hover {
            border-color: var(--accent-primary);
        }

        .chat-type-btn.active {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 8px;
        }

        .chat-input {
            flex: 1;
            padding: 10px 14px;
            border: 1px solid var(--border-subtle);
            background: var(--bg-dark);
            color: var(--text-primary);
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .chat-send-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-primary);
            border: none;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chat-send-btn:hover {
            background: var(--accent-secondary);
            transform: scale(1.05);
        }

        .road-trip-card.personal {
            border-left: 3px solid var(--success);
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.05), transparent);
        }

        .personal-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            background: var(--success);
            color: white;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 600;
            margin-left: 8px;
        }

        /* Rental Provider Card */
        .rental-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 8px;
            transition: all 0.2s;
        }

        .rental-card:hover {
            border-color: var(--accent-primary);
        }

        .rental-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .rental-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .rental-name a {
            color: var(--accent-secondary);
            text-decoration: none;
        }

        .rental-name a:hover {
            text-decoration: underline;
        }

        .rental-rating {
            font-size: 0.75rem;
        }

        .rental-note {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Camping Site Card */
        .camping-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .camping-card:hover {
            border-color: var(--serendipity);
            transform: translateX(4px);
        }

        .camping-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 6px;
        }

        .camping-name {
            font-weight: 600;
            font-size: 0.85rem;
        }

        .camping-type {
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: 500;
        }

        .camping-type.nwr {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }

        .camping-type.private {
            background: rgba(99, 102, 241, 0.2);
            color: #818cf8;
        }

        .camping-location {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .camping-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
        }

        .camping-price {
            color: var(--success);
            font-weight: 500;
        }

        .camping-facilities {
            color: var(--text-muted);
            font-style: italic;
        }

        /* League System Styles */
        .league-section {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(244, 114, 182, 0.1));
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 12px;
            padding: 15px;
        }

        .league-stats {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
        }

        .league-stat-card {
            flex: 1;
            background: var(--bg-elevated);
            border-radius: 10px;
            padding: 10px;
            text-align: center;
        }

        .league-stat-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--road-primary);
        }

        .league-stat-label {
            font-size: 0.65rem;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .league-badge {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--bg-elevated);
            border-radius: 10px;
            padding: 10px 15px;
        }

        .badge-icon {
            font-size: 1.5rem;
        }

        .badge-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Leaderboard */
        .leaderboard-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .leaderboard-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-elevated);
            border-radius: 10px;
            margin-bottom: 8px;
        }

        .leaderboard-item.current-user {
            border: 2px solid var(--road-primary);
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), transparent);
        }

        .leaderboard-rank {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--bg-hover);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .leaderboard-rank.gold { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #000; }
        .leaderboard-rank.silver { background: linear-gradient(135deg, #9ca3af, #6b7280); color: #000; }
        .leaderboard-rank.bronze { background: linear-gradient(135deg, #d97706, #b45309); color: #fff; }

        .leaderboard-info {
            flex: 1;
        }

        .leaderboard-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .leaderboard-stats {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .leaderboard-badge {
            font-size: 1.2rem;
        }

        .league-tiers {
            border-top: 1px solid var(--border-subtle);
            padding-top: 15px;
            margin-top: 15px;
        }

        .tier-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .tier-item span {
            font-size: 1.2rem;
        }

        /* Create Trip Modal */
        .form-row {
            display: flex;
            gap: 15px;
        }

        .tag-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag-checkbox {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 6px 10px;
            background: var(--bg-elevated);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .tag-checkbox:has(input:checked) {
            background: var(--accent-primary);
            color: white;
        }

        .tag-checkbox input {
            display: none;
        }

        .waypoint-row {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
            align-items: center;
        }

        .waypoint-row .waypoint-name {
            flex: 2;
        }

        .waypoint-row .waypoint-lat,
        .waypoint-row .waypoint-lng {
            flex: 1;
        }

        .btn-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            border: 1px solid var(--border-subtle);
            background: var(--bg-elevated);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .btn-icon:hover {
            background: var(--danger);
            color: white;
            border-color: var(--danger);
        }

        /* Country Roads Card */
        .country-roads-card {
            background: var(--bg-elevated);
            border-radius: 10px;
            padding: 12px;
        }

        .country-roads-card h4 {
            margin-bottom: 10px;
            color: var(--serendipity);
        }

        /* Road Trip Completed Badge */
        .trip-completed-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 24px;
            height: 24px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            color: white;
        }

        .road-trip-card {
            position: relative;
        }

        .road-trip-card.completed {
            border-left: 3px solid var(--success);
        }

        .road-trip-card .complete-btn {
            position: absolute;
            bottom: 8px;
            right: 8px;
            padding: 4px 8px;
            font-size: 0.65rem;
            border-radius: 6px;
            border: 1px solid var(--border-subtle);
            background: var(--bg-hover);
            color: var(--text-secondary);
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
        }

        .road-trip-card:hover .complete-btn {
            opacity: 1;
        }

        .road-trip-card .complete-btn:hover {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        /* User-created trip badge */
        .user-created-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            background: var(--serendipity);
            color: white;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 600;
            margin-left: 8px;
        }

        /* ==================== NATIVE ADVERTISING SYSTEM ==================== */
        
        /* Sponsored Badge - Subtle & Transparent */
        .sponsored-badge {
            display: inline-flex;
            align-items: center;
            gap: 3px;
            padding: 2px 6px;
            background: rgba(148, 148, 168, 0.15);
            border: 1px solid rgba(148, 148, 168, 0.2);
            border-radius: 4px;
            font-size: 0.55rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: auto;
        }

        .sponsored-badge:hover::after {
            content: ' - Paid partnership';
        }

        /* Sponsored Road Trip Card - Blends with regular cards */
        .road-trip-card.sponsored {
            border-left-color: rgba(148, 148, 168, 0.5);
            position: relative;
        }

        .road-trip-card.sponsored::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 24px 24px 0;
            border-color: transparent rgba(148, 148, 168, 0.2) transparent transparent;
        }

        /* Partner Recommendation Card */
        .partner-recommendation {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 14px;
            margin: 12px 0;
            transition: all 0.2s;
        }

        .partner-recommendation:hover {
            border-color: var(--border-accent);
            transform: translateY(-1px);
        }

        .partner-rec-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .partner-rec-label {
            font-size: 0.6rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .partner-rec-dismiss {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.9rem;
            padding: 2px;
            opacity: 0.5;
            transition: opacity 0.2s;
        }

        .partner-rec-dismiss:hover {
            opacity: 1;
        }

        .partner-rec-content {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .partner-rec-icon {
            width: 48px;
            height: 48px;
            background: var(--bg-dark);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .partner-rec-info {
            flex: 1;
            min-width: 0;
        }

        .partner-rec-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .partner-rec-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .partner-rec-cta {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            margin-top: 8px;
            padding: 6px 12px;
            background: var(--bg-hover);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s;
        }

        .partner-rec-cta:hover {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        .partner-rec-brand {
            font-size: 0.6rem;
            color: var(--text-muted);
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Contextual Tip from Partner */
        .sponsored-tip {
            display: flex;
            gap: 10px;
            padding: 12px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
            border: 1px solid rgba(99, 102, 241, 0.15);
            border-radius: 10px;
            margin: 10px 0;
        }

        .sponsored-tip-icon {
            font-size: 1.2rem;
        }

        .sponsored-tip-content {
            flex: 1;
        }

        .sponsored-tip-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 4px;
        }

        .sponsored-tip-source {
            font-size: 0.6rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .sponsored-tip-source a {
            color: var(--accent-secondary);
            text-decoration: none;
        }

        .sponsored-tip-source a:hover {
            text-decoration: underline;
        }

        /* Traveler's Toolkit - Partner Products */
        .toolkit-section {
            background: var(--bg-elevated);
            border-radius: 12px;
            padding: 14px;
            margin: 12px 0;
        }

        .toolkit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .toolkit-title {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .toolkit-label {
            font-size: 0.55rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .toolkit-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .toolkit-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: var(--bg-dark);
            border-radius: 8px;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s;
        }

        .toolkit-item:hover {
            background: var(--bg-hover);
            transform: translateX(2px);
        }

        .toolkit-item-icon {
            font-size: 1.3rem;
        }

        .toolkit-item-info {
            flex: 1;
        }

        .toolkit-item-name {
            font-size: 0.8rem;
            font-weight: 500;
        }

        .toolkit-item-desc {
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        .toolkit-item-arrow {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        /* In-Content Native Ad (for trip details) */
        .native-ad-inline {
            display: flex;
            gap: 12px;
            padding: 14px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            margin: 16px 0;
            align-items: center;
        }

        .native-ad-inline-icon {
            width: 44px;
            height: 44px;
            background: var(--bg-dark);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
        }

        .native-ad-inline-content {
            flex: 1;
        }

        .native-ad-inline-title {
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .native-ad-inline-text {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .native-ad-inline-label {
            font-size: 0.55rem;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-top: 4px;
        }

        .native-ad-inline-btn {
            padding: 8px 14px;
            background: var(--bg-hover);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 0.75rem;
            text-decoration: none;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .native-ad-inline-btn:hover {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        /* External Links Grid */
        .external-links-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .ext-link-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 12px 8px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.2s;
        }

        .ext-link-card:hover {
            border-color: var(--accent-primary);
            background: var(--bg-hover);
            transform: translateY(-2px);
        }

        .ext-icon {
            font-size: 1.4rem;
        }

        .ext-name {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        /* Plan Trip Section */
        .plan-trip-section {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(244, 114, 182, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            padding: 15px;
        }

        .mini-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        #plannedTripsList .planned-trip-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: var(--bg-elevated);
            border-radius: 8px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        #plannedTripsList .planned-trip-item:hover {
            background: var(--bg-hover);
        }

        .planned-trip-item .trip-icon {
            font-size: 1.2rem;
        }

        .planned-trip-item .trip-info {
            flex: 1;
        }

        .planned-trip-item .trip-name {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .planned-trip-item .trip-meta {
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        /* Trip Planner Modal */
        .trip-planner-modal {
            display: flex;
            flex-direction: column;
        }

        .planner-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .planner-sidebar {
            width: 320px;
            background: var(--bg-panel);
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .planner-tools {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
        }

        .tool-section {
            margin-bottom: 20px;
        }

        .tool-section h4 {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .tool-hint {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-bottom: 10px;
        }

        .stop-type-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }

        .stop-type-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 10px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .stop-type-btn:hover {
            border-color: var(--accent-primary);
        }

        .stop-type-btn.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        .stop-type-btn span {
            font-size: 1rem;
        }

        .route-stops-list {
            max-height: 200px;
            overflow-y: auto;
            background: var(--bg-dark);
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 10px;
        }

        .route-stops-list .empty-hint {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-align: center;
            padding: 20px;
        }

        .route-stop-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background: var(--bg-elevated);
            border-radius: 8px;
            margin-bottom: 6px;
            font-size: 0.8rem;
            border-left: 3px solid var(--border-subtle);
        }

        .route-stop-item .stop-number {
            width: 22px;
            height: 22px;
            background: var(--bg-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--text-muted);
        }

        .route-stop-item .stop-icon {
            font-size: 1.1rem;
        }

        .route-stop-item .stop-details {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .route-stop-item .stop-name {
            font-weight: 600;
            color: var(--text-primary);
        }

        .route-stop-item .stop-subtitle {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .route-stop-item .stop-delete {
            width: 22px;
            height: 22px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 4px;
            font-size: 1rem;
        }

        .route-stop-item .stop-delete:hover {
            background: var(--danger);
            color: white;
        }

        .nearby-links {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }

        .nearby-btn {
            padding: 8px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nearby-btn:hover {
            background: var(--bg-hover);
            border-color: var(--accent-primary);
        }

        .planner-actions {
            padding: 16px;
            border-top: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .planner-map-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .planner-map {
            flex: 1;
            background: #1a1a2e;
        }

        .map-instructions {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(21, 21, 32, 0.9);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            border: 1px solid var(--border-subtle);
        }

        .route-stats {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 12px;
            background: var(--bg-elevated);
            border-radius: 10px;
            margin-top: 10px;
        }

        .route-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }

        .route-stat .stat-label {
            color: var(--text-muted);
        }

        .route-stat .stat-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .route-info-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            font-size: 0.7rem;
            color: var(--accent-primary);
        }

        /* City Markers & Tooltips for Planner */
        .city-tooltip {
            background: var(--bg-panel) !important;
            border: 1px solid var(--accent-primary) !important;
            border-radius: 10px !important;
            padding: 6px 12px !important;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.3) !important;
            font-family: inherit !important;
        }

        .planner-marker.city-stop div {
            background: rgba(99, 102, 241, 0.2);
            border-radius: 50%;
            padding: 4px;
        }

        .leaflet-interactive.city-circle:hover {
            fill-opacity: 0.8 !important;
        }

        .city-list-hint {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 8px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 10px;
        }

        .city-list-hint span {
            font-size: 1rem;
        }

        .route-stop-item.city-stop {
            border-left: 3px solid var(--accent-primary);
            background: rgba(99, 102, 241, 0.1);
        }

        /* Satellite View Modal */
        .satellite-view-modal {
            display: flex;
            flex-direction: column;
        }

        .satellite-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: linear-gradient(135deg, #1a365d, #0f172a);
            border-bottom: 1px solid rgba(59, 130, 246, 0.3);
        }

        .satellite-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .satellite-title h3 {
            margin: 0;
            font-size: 1.1rem;
        }

        .satellite-icon {
            font-size: 1.5rem;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .satellite-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .layer-toggle-group {
            display: flex;
            gap: 4px;
            background: rgba(0, 0, 0, 0.3);
            padding: 4px;
            border-radius: 10px;
        }

        .layer-btn {
            padding: 8px 14px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .layer-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .layer-btn.active {
            background: var(--accent-primary);
            color: white;
        }

        .satellite-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .satellite-map {
            flex: 1;
            background: #0a0a12;
        }

        .satellite-info-panel {
            width: 280px;
            background: var(--bg-panel);
            border-left: 1px solid var(--border-subtle);
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .country-quick-facts h4,
        .country-landmarks h4,
        .satellite-legend h4 {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .quick-fact-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-subtle);
            font-size: 0.8rem;
        }

        .quick-fact-item .fact-label {
            color: var(--text-secondary);
        }

        .quick-fact-item .fact-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .landmark-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background: var(--bg-elevated);
            border-radius: 8px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .landmark-item:hover {
            background: var(--bg-hover);
            transform: translateX(4px);
        }

        .landmark-icon {
            font-size: 1.2rem;
        }

        .landmark-name {
            font-size: 0.8rem;
            font-weight: 500;
        }

        .landmark-type {
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .satellite-actions {
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        /* Vanlifer Info Panel */
        .vanlifer-info {
            background: var(--bg-elevated);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 12px;
        }

        .vanlifer-info h4 {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .info-item {
            background: var(--bg-dark);
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }

        .info-item .icon {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .info-item .label {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .info-item .value {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .info-item.good .value { color: var(--success); }
        .info-item.warning .value { color: var(--warning); }
        .info-item.bad .value { color: var(--danger); }

        /* Community Alerts */
        .community-alerts {
            margin-top: 16px;
        }

        .alert-item {
            display: flex;
            gap: 10px;
            padding: 12px;
            background: var(--bg-elevated);
            border-radius: 10px;
            margin-bottom: 8px;
            border-left: 3px solid var(--warning);
        }

        .alert-item.danger { border-left-color: var(--danger); }
        .alert-item.info { border-left-color: var(--accent-primary); }
        .alert-item.success { border-left-color: var(--success); }

        .alert-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .alert-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .alert-meta {
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Add Alert Button */
        .add-alert-btn {
            width: 100%;
            padding: 12px;
            background: transparent;
            border: 2px dashed var(--border-subtle);
            border-radius: 10px;
            color: var(--text-muted);
            font-family: inherit;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .add-alert-btn:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        /* Alert Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-panel);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 450px;
            max-width: 95vw;
            max-height: 90vh;
            overflow: hidden;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .modal-header h3 {
            font-size: 1rem;
            font-weight: 600;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: var(--danger);
            color: white;
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 6px;
            color: var(--text-secondary);
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .form-select {
            width: 100%;
            padding: 10px 12px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
        }

        textarea.form-input {
            min-height: 80px;
            resize: vertical;
        }

        .modal-footer {
            padding: 16px 20px;
            border-top: 1px solid var(--border-subtle);
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* ==================== PRINT POSTER STYLES ==================== */
        .poster-modal {
            max-width: 900px;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .poster-preview-container {
            flex: 1;
            overflow: auto;
            padding: 20px;
            background: #2a2a3a;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .poster-canvas {
            background: #f5f0e6;
            width: 600px;
            min-height: 800px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            color: #2c3e50;
            font-family: 'Georgia', serif;
        }

        .poster-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #d4c4a8;
        }

        .poster-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
            letter-spacing: 2px;
        }

        .poster-subtitle {
            font-size: 1rem;
            color: #8b7355;
            font-style: italic;
        }

        .poster-stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .poster-stat {
            text-align: center;
            padding: 15px;
            background: rgba(212, 196, 168, 0.3);
            border-radius: 10px;
            border: 1px solid #d4c4a8;
        }

        .poster-stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #c44536;
        }

        .poster-stat-label {
            font-size: 0.75rem;
            color: #8b7355;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .poster-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #4a3f35;
            margin: 25px 0 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #d4c4a8;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .poster-trips-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .poster-trip-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255,255,255,0.5);
            border-radius: 8px;
            border-left: 4px solid #c44536;
        }

        .poster-trip-icon {
            font-size: 1.5rem;
        }

        .poster-trip-info {
            flex: 1;
        }

        .poster-trip-name {
            font-weight: 600;
            font-size: 0.95rem;
            color: #2c3e50;
        }

        .poster-trip-meta {
            font-size: 0.75rem;
            color: #8b7355;
        }

        .poster-trip-date {
            font-size: 0.7rem;
            color: #8b7355;
            font-style: italic;
        }

        .poster-countries-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .poster-country-tag {
            padding: 6px 12px;
            background: rgba(196, 69, 54, 0.1);
            border: 1px solid #c44536;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #c44536;
        }

        .poster-memories {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .poster-memory {
            aspect-ratio: 4/3;
            background: #d4c4a8;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            opacity: 0.5;
            border: 2px dashed #8b7355;
        }

        .poster-memory.has-photo {
            opacity: 1;
            border: none;
            background-size: cover;
            background-position: center;
        }

        .poster-footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #d4c4a8;
            text-align: center;
        }

        .poster-footer-text {
            font-size: 0.75rem;
            color: #8b7355;
            font-style: italic;
        }

        .poster-qr-placeholder {
            width: 60px;
            height: 60px;
            background: #2c3e50;
            margin: 10px auto;
            border-radius: 5px;
        }

        .poster-options {
            padding: 15px 20px;
            background: var(--bg-elevated);
            border-top: 1px solid var(--border-subtle);
        }

        .poster-options-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 15px;
        }

        .poster-option {
            padding: 15px;
            background: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }

        .poster-option:hover {
            border-color: var(--accent-primary);
        }

        .poster-option.selected {
            border-color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .poster-option-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .poster-option-name {
            font-size: 0.85rem;
            font-weight: 600;
        }

        .poster-option-price {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .poster-actions {
            display: flex;
            gap: 10px;
        }

        .poster-actions .btn {
            flex: 1;
        }

        /* ==================== AD BANNER STYLES ==================== */
        .ad-banner {
            padding: 12px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(244, 114, 182, 0.1));
            border: 1px dashed var(--border-subtle);
            border-radius: 10px;
            margin: 12px 0;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .ad-banner:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(244, 114, 182, 0.15));
            border-color: var(--accent-primary);
        }

        .ad-banner-label {
            font-size: 0.6rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 6px;
        }

        .ad-banner-content {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .ad-banner-cta {
            display: inline-block;
            margin-top: 8px;
            padding: 6px 12px;
            background: var(--accent-primary);
            color: white;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .premium-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #1a1a2e;
            border-radius: 10px;
            font-size: 0.6rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .go-premium-btn {
            background: linear-gradient(135deg, #fbbf24, #f59e0b) !important;
            color: #1a1a2e !important;
        }

        .go-premium-btn:hover {
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4) !important;
        }

        /* Route Info Popup */
        .route-popup {
            background: var(--bg-panel);
            border-radius: 12px;
            padding: 16px;
            min-width: 280px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .route-popup h4 {
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .route-popup p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        /* Marker Icons */
        .custom-marker {
            background: var(--bg-panel);
            border: 2px solid var(--serendipity);
            border-radius: 50%;
            width: 30px !important;
            height: 30px !important;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .custom-marker.alert-marker {
            border-color: var(--warning);
            background: rgba(245, 158, 11, 0.2);
        }

        .custom-marker.danger-marker {
            border-color: var(--danger);
            background: rgba(239, 68, 68, 0.2);
        }

        .custom-marker.poi-marker {
            border-color: var(--success);
            background: rgba(34, 197, 94, 0.2);
        }

        /* Reddit Tips */
        .reddit-tips {
            background: linear-gradient(135deg, #ff4500, #ff6b35);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 16px;
        }

        .reddit-tips h4 {
            color: white;
            font-size: 0.85rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reddit-tip {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 8px;
            color: white;
        }

        .reddit-tip:last-child {
            margin-bottom: 0;
        }

        .reddit-tip .tip-text {
            font-size: 0.8rem;
            line-height: 1.4;
        }

        .reddit-tip .tip-source {
            font-size: 0.65rem;
            opacity: 0.7;
            margin-top: 4px;
        }

        /* Country Info for Vanlifers */
        .country-vanlifer-info {
            background: var(--bg-elevated);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .country-vanlifer-header {
            padding: 14px;
            background: linear-gradient(135deg, var(--bg-hover), var(--bg-elevated));
            border-bottom: 1px solid var(--border-subtle);
        }

        .country-vanlifer-header h4 {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .vanlifer-details {
            padding: 14px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .detail-value {
            font-size: 0.85rem;
            font-weight: 500;
        }

        .detail-value.good { color: var(--success); }
        .detail-value.moderate { color: var(--warning); }
        .detail-value.bad { color: var(--danger); }

        /* Hidden content */
        .hidden {
            display: none !important;
        }

